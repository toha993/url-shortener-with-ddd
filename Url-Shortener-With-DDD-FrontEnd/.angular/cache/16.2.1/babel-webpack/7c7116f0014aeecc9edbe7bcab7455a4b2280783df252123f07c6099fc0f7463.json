{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from \"../../../environments/environment\";\nimport { catchError, map } from 'rxjs/operators';\nexport let HomeComponent = class HomeComponent {\n  constructor(http) {\n    this.http = http;\n    this.inputValue = '';\n    this.responseText = '';\n    this.errorMessage = '';\n  }\n  showResponse() {\n    const apiUrl = environment.apiUrl + 'url/shorten'; // Use the environment variable\n    const requestBody = {\n      LongUrl: this.inputValue\n    };\n    this.http.post(apiUrl, requestBody).pipe(map(data => data),\n    // Map to the desired property\n    catchError(error => {\n      console.error('API Error:', error);\n      this.errorMessage = error.error?.message;\n      return []; // Return a default value or handle the error as needed\n    })).subscribe(responseText => {\n      this.responseText = responseText.data;\n    });\n  }\n  handleClick() {\n    // Make a GET request to trigger the backend call\n    this.http.get(this.responseText).pipe(map(data => data),\n    // Map to the desired property\n    catchError(error => {\n      console.error('API Error:', error);\n      return []; // Return a default value or handle the error as needed\n    })).subscribe(responseText => {\n      console.log('got response');\n    });\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);","map":{"version":3,"names":["Component","environment","catchError","map","HomeComponent","constructor","http","inputValue","responseText","errorMessage","showResponse","apiUrl","requestBody","LongUrl","post","pipe","data","error","console","message","subscribe","handleClick","get","log","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/henrick993/WebstormProjects/Url-Shortener-With-DDD-FrontEnd/src/app/Components/home/home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport {environment} from \"../../../environments/environment\";\nimport {HttpClient} from \"@angular/common/http\";\nimport { catchError, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  inputValue: string = '';\n  responseText: string = '';\n  errorMessage: string = '';\n\n  constructor(private http: HttpClient) {}\n\n  showResponse() {\n    const apiUrl = environment.apiUrl+'url/shorten'; // Use the environment variable\n\n    const requestBody = {\n      LongUrl: this.inputValue\n    };\n    this.http.post<any>(apiUrl,requestBody)\n      .pipe(\n        map((data) => data), // Map to the desired property\n        catchError((error) => {\n          console.error('API Error:', error);\n          this.errorMessage = error.error?.message;\n          return []; // Return a default value or handle the error as needed\n        })\n      )\n      .subscribe((responseText) => {\n          this.responseText = responseText.data;\n      });\n  }\n\n  handleClick() {\n    // Make a GET request to trigger the backend call\n    this.http.get(this.responseText)\n      .pipe(\n      map((data) => data), // Map to the desired property\n      catchError((error) => {\n        console.error('API Error:', error);\n        return []; // Return a default value or handle the error as needed\n      })\n    ).subscribe((responseText) => {\n      console.log('got response');\n    }\n    );\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAQC,WAAW,QAAO,mCAAmC;AAE7D,SAASC,UAAU,EAAEC,GAAG,QAAQ,gBAAgB;AAOzC,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAJxB,KAAAC,UAAU,GAAW,EAAE;IACvB,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,YAAY,GAAW,EAAE;EAEc;EAEvCC,YAAYA,CAAA;IACV,MAAMC,MAAM,GAAGV,WAAW,CAACU,MAAM,GAAC,aAAa,CAAC,CAAC;IAEjD,MAAMC,WAAW,GAAG;MAClBC,OAAO,EAAE,IAAI,CAACN;KACf;IACD,IAAI,CAACD,IAAI,CAACQ,IAAI,CAAMH,MAAM,EAACC,WAAW,CAAC,CACpCG,IAAI,CACHZ,GAAG,CAAEa,IAAI,IAAKA,IAAI,CAAC;IAAE;IACrBd,UAAU,CAAEe,KAAK,IAAI;MACnBC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;MAClC,IAAI,CAACR,YAAY,GAAGQ,KAAK,CAACA,KAAK,EAAEE,OAAO;MACxC,OAAO,EAAE,CAAC,CAAC;IACb,CAAC,CAAC,CACH,CACAC,SAAS,CAAEZ,YAAY,IAAI;MACxB,IAAI,CAACA,YAAY,GAAGA,YAAY,CAACQ,IAAI;IACzC,CAAC,CAAC;EACN;EAEAK,WAAWA,CAAA;IACT;IACA,IAAI,CAACf,IAAI,CAACgB,GAAG,CAAC,IAAI,CAACd,YAAY,CAAC,CAC7BO,IAAI,CACLZ,GAAG,CAAEa,IAAI,IAAKA,IAAI,CAAC;IAAE;IACrBd,UAAU,CAAEe,KAAK,IAAI;MACnBC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;MAClC,OAAO,EAAE,CAAC,CAAC;IACb,CAAC,CAAC,CACH,CAACG,SAAS,CAAEZ,YAAY,IAAI;MAC3BU,OAAO,CAACK,GAAG,CAAC,cAAc,CAAC;IAC7B,CAAC,CACA;EACH;CACD;AAzCYnB,aAAa,GAAAoB,UAAA,EALzBxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWvB,aAAa,CAyCzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}