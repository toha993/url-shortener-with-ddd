{"ast":null,"code":"var _class;\nimport { environment } from \"../../../environments/environment\";\nimport { catchError, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction HomeComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nfunction HomeComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"h2\");\n    i0.ɵɵtext(2, \"Response\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_9_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.handleClick());\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"href\", ctx_r1.responseText, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.responseText);\n  }\n}\nexport class HomeComponent {\n  constructor(http) {\n    this.http = http;\n    this.inputValue = '';\n    this.responseText = '';\n    this.errorMessage = '';\n  }\n  showResponse() {\n    const apiUrl = environment.apiUrl + 'url/shorten'; // Use the environment variable\n    const requestBody = {\n      LongUrl: this.inputValue\n    };\n    this.http.post(apiUrl, requestBody).pipe(map(data => data),\n    // Map to the desired property\n    catchError(error => {\n      console.error('API Error:', error);\n      this.errorMessage = error.error?.message;\n      return []; // Return a default value or handle the error as needed\n    })).subscribe(responseText => {\n      this.responseText = responseText.data;\n    });\n  }\n  handleClick() {\n    // Make a GET request to trigger the backend call\n    this.http.get(this.responseText).pipe(map(data => data),\n    // Map to the desired property\n    catchError(error => {\n      console.error('API Error:', error);\n      return []; // Return a default value or handle the error as needed\n    })).subscribe(responseText => {\n      console.log('got response');\n    });\n  }\n}\n_class = HomeComponent;\n_class.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-home\"]],\n  decls: 10,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"card\"], [1, \"card-content\"], [\"type\", \"text\", \"placeholder\", \"Enter something...\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"class\", \"error-container\", 4, \"ngIf\"], [\"class\", \"card-response\", 4, \"ngIf\"], [1, \"error-container\"], [1, \"error-message\"], [1, \"card-response\"], [3, \"href\", \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n      i0.ɵɵtext(4, \"Input\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.inputValue = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_6_listener() {\n        return ctx.showResponse();\n      });\n      i0.ɵɵtext(7, \"Show Response\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, HomeComponent_div_8_Template, 3, 1, \"div\", 5);\n      i0.ɵɵtemplate(9, HomeComponent_div_9_Template, 5, 2, \"div\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.inputValue);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.responseText);\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 90vh;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border: 1px solid #ccc;\\n  padding: 20px;\\n  width: 300px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\\n  background-color: #fff;\\n}\\n\\n.error-container[_ngcontent-%COMP%] {\\n  background-color: #ffdddd; \\n\\n  border: 1px solid #ff0000; \\n\\n  padding: 10px; \\n\\n  margin-top: 10px; \\n\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #ff0000; \\n\\n  font-weight: bold; \\n\\n}\\n\\n\\n.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  margin-bottom: 10px;\\n}\\n\\n.card[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\n  width: 90%;\\n  padding: 10px;\\n  margin-bottom: 10px;\\n  border: 1px solid #ccc;\\n}\\n\\n.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: #fff;\\n  padding: 10px 20px;\\n  border: none;\\n  cursor: pointer;\\n}\\n\\n.card-response[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixZQUFZO0VBQ1osMENBQTBDO0VBQzFDLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHlCQUF5QixFQUFFLDZDQUE2QztFQUN4RSx5QkFBeUIsRUFBRSx5Q0FBeUM7RUFDcEUsYUFBYSxFQUFFLHFDQUFxQztFQUNwRCxnQkFBZ0IsRUFBRSwyQ0FBMkM7QUFDL0Q7O0FBRUE7RUFDRSxjQUFjLEVBQUUscUNBQXFDO0VBQ3JELGlCQUFpQixFQUFFLDJCQUEyQjtBQUNoRDs7O0FBR0E7RUFDRSxlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLmNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtaW4taGVpZ2h0OiA5MHZoO1xufVxuXG4uY2FyZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIHdpZHRoOiAzMDBweDtcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xufVxuXG4uZXJyb3ItY29udGFpbmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZGRkZDsgLyogQmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGVycm9yIGNvbnRhaW5lciAqL1xuICBib3JkZXI6IDFweCBzb2xpZCAjZmYwMDAwOyAvKiBCb3JkZXIgY29sb3IgZm9yIHRoZSBlcnJvciBjb250YWluZXIgKi9cbiAgcGFkZGluZzogMTBweDsgLyogUGFkZGluZyBhcm91bmQgdGhlIGVycm9yIG1lc3NhZ2UgKi9cbiAgbWFyZ2luLXRvcDogMTBweDsgLyogTWFyZ2luIHNwYWNlIGFib3ZlIHRoZSBlcnJvciBjb250YWluZXIgKi9cbn1cblxuLmVycm9yLW1lc3NhZ2Uge1xuICBjb2xvcjogI2ZmMDAwMDsgLyogVGV4dCBjb2xvciBmb3IgdGhlIGVycm9yIG1lc3NhZ2UgKi9cbiAgZm9udC13ZWlnaHQ6IGJvbGQ7IC8qIEJvbGQgdGV4dCBmb3IgZW1waGFzaXMgKi9cbn1cblxuXG4uY2FyZCBoMiB7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLmNhcmQgaW5wdXRbdHlwZT1cInRleHRcIl0ge1xuICB3aWR0aDogOTAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uY2FyZCBidXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xuICBjb2xvcjogI2ZmZjtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xuICBib3JkZXI6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmNhcmQtcmVzcG9uc2Uge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["environment","catchError","map","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","errorMessage","ɵɵlistener","HomeComponent_div_9_Template_a_click_3_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","handleClick","ɵɵproperty","ctx_r1","responseText","ɵɵsanitizeUrl","HomeComponent","constructor","http","inputValue","showResponse","apiUrl","requestBody","LongUrl","post","pipe","data","error","console","message","subscribe","get","log","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","HomeComponent_Template","rf","ctx","HomeComponent_Template_input_ngModelChange_5_listener","$event","HomeComponent_Template_button_click_6_listener","ɵɵtemplate","HomeComponent_div_8_Template","HomeComponent_div_9_Template"],"sources":["/Users/henrick993/WebstormProjects/Url-Shortener-With-DDD-FrontEnd/src/app/Components/home/home.component.ts","/Users/henrick993/WebstormProjects/Url-Shortener-With-DDD-FrontEnd/src/app/Components/home/home.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {environment} from \"../../../environments/environment\";\nimport {HttpClient} from \"@angular/common/http\";\nimport { catchError, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  inputValue: string = '';\n  responseText: string = '';\n  errorMessage: string = '';\n\n  constructor(private http: HttpClient) {}\n\n  showResponse() {\n    const apiUrl = environment.apiUrl+'url/shorten'; // Use the environment variable\n\n    const requestBody = {\n      LongUrl: this.inputValue\n    };\n    this.http.post<any>(apiUrl,requestBody)\n      .pipe(\n        map((data) => data), // Map to the desired property\n        catchError((error) => {\n          console.error('API Error:', error);\n          this.errorMessage = error.error?.message;\n          return []; // Return a default value or handle the error as needed\n        })\n      )\n      .subscribe((responseText) => {\n          this.responseText = responseText.data;\n      });\n  }\n\n  handleClick() {\n    // Make a GET request to trigger the backend call\n    this.http.get(this.responseText)\n      .pipe(\n      map((data) => data), // Map to the desired property\n      catchError((error) => {\n        console.error('API Error:', error);\n        return []; // Return a default value or handle the error as needed\n      })\n    ).subscribe((responseText) => {\n      console.log('got response');\n    }\n    );\n  }\n}\n","\n<div class=\"container\">\n  <div class=\"card\">\n    <div class=\"card-content\">\n      <h2>Input</h2>\n      <input type=\"text\" [(ngModel)]=\"inputValue\" placeholder=\"Enter something...\">\n      <button (click)=\"showResponse()\">Show Response</button>\n    </div>\n    <div class=\"error-container\" *ngIf=\"errorMessage\">\n      <p class=\"error-message\">{{ errorMessage }}</p>\n    </div>    <div *ngIf=\"responseText\" class=\"card-response\">\n      <h2>Response</h2>\n      <a [href]=\"responseText\" (click)=\"handleClick()\">{{ responseText }}</a>\n    </div>\n  </div>\n</div>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}