{"ast":null,"code":"var _class;\nimport { environment } from \"../../../environments/environment\";\nimport { catchError, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../directives/url-validator.directive\";\nfunction HomeComponent_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"URL is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1, \"Invalid URL format.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HomeComponent_div_7_div_1_Template, 2, 0, \"div\", 9);\n    i0.ɵɵtemplate(2, HomeComponent_div_7_div_2_Template, 2, 0, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.errors && _r0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.errors && _r0.errors[\"invalidUrl\"]);\n  }\n}\nfunction HomeComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"p\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.errorMessage);\n  }\n}\nfunction HomeComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"h2\");\n    i0.ɵɵtext(2, \"Response\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_11_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.handleClick());\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.responseText);\n  }\n}\nexport class HomeComponent {\n  constructor(http) {\n    this.http = http;\n    this.inputValue = '';\n    this.responseText = '';\n    this.errorMessage = '';\n  }\n  showResponse() {\n    const apiUrl = environment.apiUrl + 'url/shorten'; // Use the environment variable\n    const requestBody = {\n      LongUrl: this.inputValue\n    };\n    this.http.post(apiUrl, requestBody).pipe(map(data => data),\n    // Map to the desired property\n    catchError(error => {\n      console.error('API Error:', error);\n      this.errorMessage = error.error?.message;\n      return []; // Return a default value or handle the error as needed\n    })).subscribe(responseText => {\n      this.responseText = responseText.data;\n    });\n  }\n  handleClick() {\n    // Make a GET request to trigger the backend call\n    this.http.get(this.responseText).pipe(map(data => data),\n    // Map to the desired property\n    catchError(error => {\n      console.error('API Error:', error);\n      return []; // Return a default value or handle the error as needed\n    })).subscribe(resp => {\n      const url = resp.data;\n      window.open(url, '_blank');\n    });\n  }\n  textInput() {\n    this.responseText = '';\n    this.errorMessage = '';\n  }\n}\n_class = HomeComponent;\n_class.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-home\"]],\n  decls: 12,\n  vars: 5,\n  consts: [[1, \"container\"], [1, \"card\"], [1, \"card-content\"], [\"type\", \"text\", \"placeholder\", \"Enter a URL...\", \"name\", \"urlInput\", \"required\", \"\", \"appUrlValidator\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"urlInput\", \"ngModel\"], [4, \"ngIf\"], [1, \"custom-button\", 3, \"disabled\", \"click\"], [\"class\", \"error-container\", 4, \"ngIf\"], [\"class\", \"card-response\", 4, \"ngIf\"], [\"class\", \"required-message\", 4, \"ngIf\"], [\"class\", \"error-message-url\", 4, \"ngIf\"], [1, \"required-message\"], [1, \"error-message-url\"], [1, \"error-container\"], [1, \"error-message\"], [1, \"card-response\"], [\"href\", \"#\", 1, \"link-style\", \"beautified-text\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n      i0.ɵɵtext(4, \"Input\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.inputValue = $event;\n      })(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener() {\n        return ctx.textInput();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, HomeComponent_div_7_Template, 3, 2, \"div\", 5);\n      i0.ɵɵelementStart(8, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_8_listener() {\n        return ctx.showResponse();\n      });\n      i0.ɵɵtext(9, \"Show Response\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, HomeComponent_div_10_Template, 3, 1, \"div\", 7);\n      i0.ɵɵtemplate(11, HomeComponent_div_11_Template, 5, 1, \"div\", 8);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(6);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.inputValue);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.invalid && (_r0.dirty || _r0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.responseText);\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.RequiredValidator, i3.NgModel, i4.UrlValidatorDirective],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 90vh;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border: 1px solid #ccc;\\n  padding: 20px;\\n  width: 300px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\\n  background-color: #fff;\\n  \\n\\n  \\n\\n  \\n\\n  \\n\\n  \\n\\n}\\n.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  margin-bottom: 10px;\\n}\\n.card[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%] {\\n  width: 90%;\\n  padding: 10px;\\n  margin-bottom: 10px;\\n  border: 1px solid #ccc;\\n}\\n.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: #fff;\\n  padding: 10px 20px;\\n  border: none;\\n  cursor: pointer;\\n}\\n.card-response[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n.card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%] {\\n  background-color: #ffdddd;\\n  border: 1px solid #ff0000;\\n  padding: 10px;\\n  margin-top: 10px;\\n  display: flex; \\n\\n  justify-content: center; \\n\\n  align-items: center; \\n\\n}\\n.card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\\n  color: #ff0000;\\n  font-weight: bold;\\n  text-align: center; \\n\\n}\\n.card[_ngcontent-%COMP%]   .link-style[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  padding: 10px;\\n  color: #007bff; \\n\\n  text-decoration: underline; \\n\\n  cursor: pointer; \\n\\n}\\n.card[_ngcontent-%COMP%]   .beautified-text[_ngcontent-%COMP%] {\\n  text-decoration: none; \\n\\n  color: #007bff; \\n\\n  font-size: 16px; \\n\\n  font-weight: bold; \\n\\n  background-color: #f0f0f0; \\n\\n  padding: 8px 12px; \\n\\n  border-radius: 4px; \\n\\n  border: 2px solid #007bff; \\n\\n  transition: background-color 0.3s, color 0.3s; \\n\\n}\\n.card[_ngcontent-%COMP%]   .beautified-text[_ngcontent-%COMP%]:hover {\\n  background-color: #007bff; \\n\\n  color: #ffffff; \\n\\n}\\n.card[_ngcontent-%COMP%]   .required-message[_ngcontent-%COMP%] {\\n  color: #ff0000;\\n  font-weight: bold;\\n  margin-bottom: 10px;\\n}\\n.card[_ngcontent-%COMP%]   .error-message-url[_ngcontent-%COMP%] {\\n  color: #ff0000;\\n  font-weight: bold;\\n  border: 1px solid #ff0000;\\n  padding: 5px;\\n  background-color: #ffe0e0;\\n  margin-top: 5px;\\n  margin-bottom: 5px;\\n}\\n.card[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%] {\\n  background-color: #007bff; \\n\\n  color: #fff; \\n\\n  padding: 10px 20px;\\n  border: none;\\n  cursor: pointer;\\n  transition: background-color 0.3s, color 0.3s;\\n}\\n.card[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]:disabled {\\n  background-color: #cccfff; \\n\\n  cursor: not-allowed; \\n\\n}\\n.card[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3; \\n\\n  color: #fff; \\n\\n}\\n.card[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]:active {\\n  background-color: #003f80; \\n\\n  color: #fff; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FBQUY7O0FBSUE7RUFDRSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsMENBQUE7RUFDQSxzQkFBQTtFQXNFQSwrQkFBQTtFQU9BLDRCQUFBO0VBcUJBLDZDQUFBO0VBTUEsbUNBQUE7RUFNQSx1Q0FBQTtBQTFHRjtBQUZFO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0FBSUo7QUFERTtFQUNFLFVBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBQUdKO0FBQUU7RUFDRSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBRUo7QUFDRTtFQUNFLGdCQUFBO0FBQ0o7QUFFRTtFQUNFLHlCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBLEVBQUEsZ0JBQUE7RUFDQSx1QkFBQSxFQUFBLGdDQUFBO0VBQ0EsbUJBQUEsRUFBQSw4QkFBQTtBQUFKO0FBRUk7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQSxFQUFBLGdEQUFBO0FBQU47QUFLRTtFQUNFLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUEsRUFBQSw2QkFBQTtFQUNBLDBCQUFBLEVBQUEsNEJBQUE7RUFDQSxlQUFBLEVBQUEsc0RBQUE7QUFISjtBQU9FO0VBQ0UscUJBQUEsRUFBQSxxQkFBQTtFQUNBLGNBQUEsRUFBQSw2QkFBQTtFQUNBLGVBQUEsRUFBQSxjQUFBO0VBQ0EsaUJBQUEsRUFBQSxjQUFBO0VBQ0EseUJBQUEsRUFBQSxxQkFBQTtFQUNBLGlCQUFBLEVBQUEsNEJBQUE7RUFDQSxrQkFBQSxFQUFBLG9CQUFBO0VBQ0EseUJBQUEsRUFBQSxXQUFBO0VBQ0EsNkNBQUEsRUFBQSw2QkFBQTtBQUxKO0FBUUk7RUFDRSx5QkFBQSxFQUFBLHFDQUFBO0VBQ0EsY0FBQSxFQUFBLCtCQUFBO0FBTk47QUFXRTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBVEo7QUFhRTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBWEo7QUFlRTtFQUNFLHlCQUFBLEVBQUEseUJBQUE7RUFDQSxXQUFBLEVBQUEsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsNkNBQUE7QUFiSjtBQWlCRTtFQUNFLHlCQUFBLEVBQUEsMEJBQUE7RUFDQSxtQkFBQSxFQUFBLGlDQUFBO0FBZko7QUFtQkU7RUFDRSx5QkFBQSxFQUFBLHlCQUFBO0VBQ0EsV0FBQSxFQUFBLHVCQUFBO0FBakJKO0FBcUJFO0VBQ0UseUJBQUEsRUFBQSx5QkFBQTtFQUNBLFdBQUEsRUFBQSx1QkFBQTtBQW5CSiIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvbnRhaW5lciBzdHlsZXNcbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWluLWhlaWdodDogOTB2aDtcbn1cblxuLy8gQ2FyZCBzdHlsZXNcbi5jYXJkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgcGFkZGluZzogMjBweDtcbiAgd2lkdGg6IDMwMHB4O1xuICBib3gtc2hhZG93OiAwIDRweCA4cHggMCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG5cbiAgaDIge1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgaW5wdXRbdHlwZT1cInRleHRcIl0ge1xuICAgIHdpZHRoOiA5MCU7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIH1cblxuICBidXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cblxuICAmLXJlc3BvbnNlIHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICB9XG5cbiAgLmVycm9yLWNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZGRkZDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZmYwMDAwO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICBkaXNwbGF5OiBmbGV4OyAvKiBVc2UgZmxleGJveCAqL1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyAvKiBDZW50ZXIgY29udGVudCBob3Jpem9udGFsbHkgKi9cbiAgICBhbGlnbi1pdGVtczogY2VudGVyOyAvKiBDZW50ZXIgY29udGVudCB2ZXJ0aWNhbGx5ICovXG5cbiAgICAuZXJyb3ItbWVzc2FnZSB7XG4gICAgICBjb2xvcjogI2ZmMDAwMDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyAvKiBDZW50ZXIgdGV4dCBob3Jpem9udGFsbHkgd2l0aGluIHRoZSBtZXNzYWdlICovXG4gICAgfVxuICB9XG5cbiAgLy8gTGluayBzdHlsZXNcbiAgLmxpbmstc3R5bGUge1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBjb2xvcjogIzAwN2JmZjsgLyogTGluayBjb2xvciwgdXN1YWxseSBibHVlICovXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IC8qIFVuZGVybGluZSB0aGUgbGluayB0ZXh0ICovXG4gICAgY3Vyc29yOiBwb2ludGVyOyAvKiBTaG93IGEgcG9pbnRlciBjdXJzb3Igd2hlbiBob3ZlcmluZyBvdmVyIHRoZSBsaW5rICovXG4gIH1cblxuICAvLyBCZWF1dGlmaWVkIHRleHQgc3R5bGVzXG4gIC5iZWF1dGlmaWVkLXRleHQge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsgLyogUmVtb3ZlIHVuZGVybGluZSAqL1xuICAgIGNvbG9yOiAjMDA3YmZmOyAvKiBMaW5rIGNvbG9yLCB1c3VhbGx5IGJsdWUgKi9cbiAgICBmb250LXNpemU6IDE2cHg7IC8qIEZvbnQgc2l6ZSAqL1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkOyAvKiBCb2xkIHRleHQgKi9cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOyAvKiBCYWNrZ3JvdW5kIGNvbG9yICovXG4gICAgcGFkZGluZzogOHB4IDEycHg7IC8qIFBhZGRpbmcgYXJvdW5kIHRoZSBsaW5rICovXG4gICAgYm9yZGVyLXJhZGl1czogNHB4OyAvKiBSb3VuZGVkIGNvcm5lcnMgKi9cbiAgICBib3JkZXI6IDJweCBzb2xpZCAjMDA3YmZmOyAvKiBCb3JkZXIgKi9cbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIGNvbG9yIDAuM3M7IC8qIFNtb290aCB0cmFuc2l0aW9uIGVmZmVjdCAqL1xuXG4gICAgLy8gSG92ZXIgc3R5bGVzXG4gICAgJjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmOyAvKiBDaGFuZ2UgYmFja2dyb3VuZCBjb2xvciBvbiBob3ZlciAqL1xuICAgICAgY29sb3I6ICNmZmZmZmY7IC8qIENoYW5nZSB0ZXh0IGNvbG9yIG9uIGhvdmVyICovXG4gICAgfVxuICB9XG5cbiAgLyogU3R5bGUgZm9yIHJlcXVpcmVkIG1lc3NhZ2UgKi9cbiAgLnJlcXVpcmVkLW1lc3NhZ2Uge1xuICAgIGNvbG9yOiAjZmYwMDAwOyAvLyBSZWQgdGV4dCBjb2xvclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkOyAvLyBCb2xkIHRleHRcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLyogU3R5bGUgZm9yIGVycm9yIG1lc3NhZ2UgKi9cbiAgLmVycm9yLW1lc3NhZ2UtdXJsIHtcbiAgICBjb2xvcjogI2ZmMDAwMDsgLy8gUmVkIHRleHQgY29sb3JcbiAgICBmb250LXdlaWdodDogYm9sZDsgLy8gQm9sZCB0ZXh0XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2ZmMDAwMDsgLy8gUmVkIGJvcmRlclxuICAgIHBhZGRpbmc6IDVweDsgLy8gUGFkZGluZyBhcm91bmQgdGhlIG1lc3NhZ2VcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlMGUwOyAvLyBMaWdodCByZWQgYmFja2dyb3VuZCBjb2xvclxuICAgIG1hcmdpbi10b3A6IDVweDsgLy8gU3BhY2luZyBmcm9tIHRoZSBpbnB1dCBmaWVsZFxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgfVxuXG5cbiAgLmN1c3RvbS1idXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7IC8qIERlZmF1bHQgYnV0dG9uIGNvbG9yICovXG4gICAgY29sb3I6ICNmZmY7IC8qIERlZmF1bHQgdGV4dCBjb2xvciAqL1xuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcywgY29sb3IgMC4zcztcbiAgfVxuXG4gIC8qIFN0eWxlcyBmb3IgdGhlIGJ1dHRvbiB3aGVuIGl0J3MgZGlzYWJsZWQgKi9cbiAgLmN1c3RvbS1idXR0b246ZGlzYWJsZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2NmZmY7IC8qIERpc2FibGVkIGJ1dHRvbiBjb2xvciAqL1xuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7IC8qIENoYW5nZSBjdXJzb3IgdG8gbm90LWFsbG93ZWQgKi9cbiAgfVxuXG4gIC8qIFN0eWxlcyBmb3IgdGhlIGJ1dHRvbiBvbiBob3ZlciAqL1xuICAuY3VzdG9tLWJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMzsgLyogSG92ZXJlZCBidXR0b24gY29sb3IgKi9cbiAgICBjb2xvcjogI2ZmZjsgLyogSG92ZXJlZCB0ZXh0IGNvbG9yICovXG4gIH1cblxuICAvKiBTdHlsZXMgZm9yIHRoZSBidXR0b24gd2hlbiBjbGlja2VkICovXG4gIC5jdXN0b20tYnV0dG9uOmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwM2Y4MDsgLyogQ2xpY2tlZCBidXR0b24gY29sb3IgKi9cbiAgICBjb2xvcjogI2ZmZjsgLyogQ2xpY2tlZCB0ZXh0IGNvbG9yICovXG4gIH1cbn1cblxuLy8gRXJyb3IgY29udGFpbmVyIHN0eWxlc1xuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["environment","catchError","map","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","HomeComponent_div_7_div_1_Template","HomeComponent_div_7_div_2_Template","ɵɵadvance","ɵɵproperty","_r0","errors","ɵɵtextInterpolate","ctx_r2","errorMessage","ɵɵlistener","HomeComponent_div_11_Template_a_click_3_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","handleClick","ctx_r3","responseText","HomeComponent","constructor","http","inputValue","showResponse","apiUrl","requestBody","LongUrl","post","pipe","data","error","console","message","subscribe","get","resp","url","window","open","textInput","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","HomeComponent_Template","rf","ctx","HomeComponent_Template_input_ngModelChange_5_listener","$event","HomeComponent_div_7_Template","HomeComponent_Template_button_click_8_listener","HomeComponent_div_10_Template","HomeComponent_div_11_Template","invalid","dirty","touched"],"sources":["/Users/henrick993/WebstormProjects/Url-Shortener-With-DDD-FrontEnd/src/app/components/home/home.component.ts","/Users/henrick993/WebstormProjects/Url-Shortener-With-DDD-FrontEnd/src/app/components/home/home.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {environment} from \"../../../environments/environment\";\nimport {HttpClient} from \"@angular/common/http\";\nimport { catchError, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent {\n  inputValue: string = '';\n  responseText: string = '';\n  errorMessage: string = '';\n\n  constructor(private http: HttpClient) {}\n\n  showResponse() {\n\n    const apiUrl = environment.apiUrl+'url/shorten'; // Use the environment variable\n\n    const requestBody = {\n      LongUrl: this.inputValue\n    };\n    this.http.post<any>(apiUrl,requestBody)\n      .pipe(\n        map((data) => data), // Map to the desired property\n        catchError((error) => {\n          console.error('API Error:', error);\n          this.errorMessage = error.error?.message;\n          return []; // Return a default value or handle the error as needed\n        })\n      )\n      .subscribe((responseText) => {\n          this.responseText = responseText.data;\n      });\n  }\n\n  handleClick() {\n    // Make a GET request to trigger the backend call\n    this.http.get(this.responseText)\n      .pipe(\n      map((data) => data), // Map to the desired property\n      catchError((error) => {\n        console.error('API Error:', error);\n        return []; // Return a default value or handle the error as needed\n      })\n    ).subscribe((resp:any) => {\n        const url = resp.data;\n        window.open(url, '_blank');\n      }\n    );\n  }\n\n  textInput() {\n    this.responseText = '';\n    this.errorMessage = '';\n  }\n}\n","<div class=\"container\">\n  <div class=\"card\">\n    <div class=\"card-content\">\n      <h2>Input</h2>\n      <input\n        type=\"text\"\n        [(ngModel)]=\"inputValue\"\n        (ngModelChange)=\"textInput()\"\n        placeholder=\"Enter a URL...\"\n        name=\"urlInput\"\n        #urlInput=\"ngModel\"\n        required\n        appUrlValidator\n      >\n      <div *ngIf=\"urlInput.invalid && (urlInput.dirty || urlInput.touched)\">\n        <div class=\"required-message\" *ngIf=\"urlInput.errors && urlInput.errors['required']\">URL is required.</div>\n        <div class=\"error-message-url\" *ngIf=\"urlInput.errors && urlInput.errors['invalidUrl']\">Invalid URL format.</div>\n      </div>\n      <button  [disabled]=\"urlInput.invalid\" (click)=\"showResponse()\"   class=\"custom-button\"\n      >Show Response</button>\n    </div>\n    <div class=\"error-container\" *ngIf=\"errorMessage\">\n      <p class=\"error-message\">{{ errorMessage }}</p>\n    </div>\n    <div *ngIf=\"responseText\" class=\"card-response\">\n      <h2>Response</h2>\n      <a href=\"#\" (click)=\"handleClick()\" class=\"link-style beautified-text\">{{ responseText }}</a>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}